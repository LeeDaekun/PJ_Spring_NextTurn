-- 게시판 첨부파일 테이블
-- : 첨부파일 이름은 uuid를 사용하기 때문에 중복 안됨
DROP TABLE tbl_attach CASCADE CONSTRAINTS;
CREATE TABLE tbl_attach (
    fullname VARCHAR2(150) NOT NULL,  --경로까지 같이 들어간다
    bno NUMBER NOT NULL,            --첨부파일 번호
    regdate DATE DEFAULT SYSDATE    --첨부파일 등록일자
);

--제약조건에 이름을 달려면 이렇게 프라이머리키를 등록시켜야한다.
ALTER TABLE tbl_attach ADD CONSTRAINT pk_attach  --tbl_cttach 에 재약조건인 pk_attack 를 추가한다.
PRIMARY KEY(fullname);  -- 


ALTER TABLE tbl_attach          --tbl_attach 를 tbl_board랑 관계를 맺어준다.
ADD CONSTRAINT fk_attach_bno    --포링키 (관계를 맺어주는키), 관계되는 테이블이 없다면, 이 테이블을 사용할 수 없음(주종 관계)
FOREIGN KEY(bno) REFERENCES tbl_board(bno)
ON DELETE CASCADE;

select * from tbl_attach;
